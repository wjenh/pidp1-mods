
      TEST OF TYPE 23 DRUM EMULATION                                      Page 1


    1                   TEST OF TYPE 23 DRUM EMULATION
    2                   
    3       720061      dia=720061
    4       720062      dwc=720062
    5       720063      dcl=720063
    6       722061      dba=722061
    7       732062      dra=732062
    8                   
    9       400000      bsy=400000
   10       000040      dun=000040
   11                   
   12 00100             100/
   13                   / put a marker in mem 0
   14 00100 200154          lac (123456
   15 00101 240000          dac 0
   16                       
   17                   / write 512 words from address 0 to the drum field 0 location 0
   18                   / drum initial address, field 0 address 0
   19 00102 764000          cli
   20 00103 720061          dia
   21                   / drum word count, write 01000, 512 dec 
   22 00104 220155          lio (401000
   23 00105 720062          dwc
   24                   / drum core location, memory addr 0
   25 00106 764000          cli
   26 00107 720063          dcl
   27                   / drum request address, status
   28 00110 732062          dra
   29                   / check the busy bit
   30 00111 620144          jsp tst
   31                   / get the status again, bit 12 should be set
   32 00112 720033          cks
   33 00113 760400          hlt
   34                   
   35                   / read same into 1000
   36                   / drum initial address, read field 0 address 0
   37 00114 220156          lio (400000
   38 00115 720061          dia
   39                   / drum word count, 01000, 512 dec
   40 00116 220157          lio (001000
   41 00117 720062          dwc
   42                   / drum core location, memory addr 1000
   43 00120 220157          lio (001000
   44 00121 720063          dcl
   45 00122 620144          jsp tst
   46 00123 760400          hlt
   47                   
   48                   / read/write 8 words from 07751 to drum 0,0 and load 07751 with it
   49                   / this swaps the content
   50                   / drum initial address, read, field 0 address 0
   51 00124 220156          lio (400000
   52 00125 720061          dia
   53                   / drum word count, write, 10, 8 dec
   54 00126 220160          lio (400010
   55 00127 720062          dwc
   56                   / drum core location, memory addr 07751
   57 00130 220161          lio (7751

      TEST OF TYPE 23 DRUM EMULATION                                      Page 2


   58 00131 720063          dcl
   59 00132 620144          jsp tst
   60 00133 760400          hlt
   61                   
   62                   / swap same back
   63                   / drum initial address, read, field 0 address 0
   64 00134 220156          lio (400000
   65 00135 720061          dia
   66                   / drum word count, write, 10, 8 dec
   67 00136 220160          lio (400010
   68 00137 720062          dwc
   69                   / drum core location, memory addr 07751
   70 00140 220161          lio (7751
   71 00141 720063          dcl
   72 00142 620144          jsp tst
   73 00143 760400          hlt
   74                   
   75                   / check the busy bit
   76 00144 240153      tst, dac rad
   77 00145 720033      lp1, cks
   78 00146 760200           cla
   79 00147 663001           rcl 1
   80 00150 640100           sza
   81 00151 600145           jmp lp1
   82 00152 610153           jmp i rad
   83                   
   84 00153 000000      rad, 0
   85                   
   86 00154 123456      constants
      00155 401000
      00156 400000
      00157 001000
      00160 400010
      00161 007751
   87       000100      start 100

      No errors detected
